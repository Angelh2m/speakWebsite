/*!
 * Javascript integration library for masterpass
 * @version v2.4.0-215d5a4
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("masterpass",[],t):"object"==typeof exports?exports.masterpass=t():e.masterpass=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=22)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={CHECKOUT:"checkout",CRYPTO_FORMAT:"CryptoFormat",CRYPTO_OPTIONS:"cryptoOptions",IS_URL_REGEXP:/^https?:\/\/[^\s\/$.?#].[^\s]*$/i,PAIR:"pair",CONNECT:"connect",TRUSTED_DOMAINS_REGEXP:/^https?:\/\/.*\.?(?:mastercard|masterpass)\.(?:com|int)\//i,UNPREDICTABLE_NUMBER:"unpredictableNumber"};t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){t.hasValidCryptoOptions=d=u(e);var r=i(e);return!(e.hasOwnProperty(c.default.CRYPTO_OPTIONS)&&!d||e.hasOwnProperty(c.default.UNPREDICTABLE_NUMBER)&&!r)||new Error("DSRP requires valid cryptoOptions and unpredictableNumber")}function u(e){return e.hasOwnProperty(c.default.CRYPTO_OPTIONS)&&a(e)}function a(e){var t=e[c.default.CRYPTO_OPTIONS].filter(function(e){return l.indexOf(e.cardType.toLowerCase())>-1});return t.length===e[c.default.CRYPTO_OPTIONS].length}function i(e){if(e.hasOwnProperty(c.default.UNPREDICTABLE_NUMBER))return e[c.default.UNPREDICTABLE_NUMBER].length>=6&&e[c.default.UNPREDICTABLE_NUMBER].length<=8}Object.defineProperty(t,"__esModule",{value:!0}),t.hasValidCryptoOptions=t.default=void 0;var s=r(0),c=n(s),l=["visa","master","maestro"],d=!1;t.default=o,t.hasValidCryptoOptions=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={checkoutId:{type:"String",required:!0}};t.default={types:n}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,a.default)(e,i);return!!t||new Error("Both checkoutId and userId should be present when pairing")}Object.defineProperty(t,"__esModule",{value:!0});var u=r(18),a=n(u),i=["checkoutId","userId"];t.default=o},function(e,t,r){"use strict";(function(e){function r(){var e;u&&(e=a).log.apply(e,arguments)}function n(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u=e}function o(e){a=e}Object.defineProperty(t,"__esModule",{value:!0});var u=!1,a=console;e.PRODUCTION||(u=!0),r.error=function(){var e;a&&(e=a).error.apply(e,arguments)},t.log=r,t.enableLogging=n,t.setLogger=o}).call(t,r(20))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),u=n(o),a={allowedCardTypes:{type:"Array",required:!0},callbackUrl:"Url",cartId:{type:"String",required:!0},currency:{type:"String",required:!0},cryptoOptions:"Array",cvc2Support:"Boolean",requestPairing:"Boolean",shippingLocationProfile:"String",amount:{type:"String",required:!0},suppress3Ds:"Boolean",suppressShippingAddress:"Boolean",unpredictableNumber:"String",userId:"String",validityPeriodMinutes:"Number"},i={dsrpValidator:u.default};t.default={types:a,validators:i}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),u=n(o),a={callbackUrl:"Url",userId:{type:"String",required:!0}},i={pairingValidator:u.default};t.default={types:a,validators:i}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=Object.keys(e).filter(function(t){return e[t]&&!(0,a.default)(e[t],"Object")}).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&");return t?"?"+t:""}Object.defineProperty(t,"__esModule",{value:!0});var u=r(9),a=n(u);t.default=o},function(e,t,r){"use strict";function n(e){top.window.location={switchUrl:"https://masterpass.com/switchui/index.html",switchWarmCacheUrl:"https://masterpass.com/switchui/warm-cache.html"}.switchUrl+e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=t.toLowerCase();switch(r){case"string":case"boolean":case"function":case"number":return("undefined"==typeof e?"undefined":u(e))===r;case"url":return i.default.IS_URL_REGEXP.test(e);case"object":return"[object Object]"===e.toString();case"array":return e instanceof Array;default:throw new Error("cannot run validation on type "+r)}}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(0),i=n(a);t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=(0,i.default)(e),n=r.types||{},o=r.validators||!1,a={},s=[];for(var l in n)if(n.hasOwnProperty(l)){var p="[object Object]"===n[l].toString()?n[l]:{type:n[l],required:!1};if(t&&t.hasOwnProperty(l)){var h=t[l];(0,c.default)(h,p.type)&&(0,d.default)(h)?a[l]=h:s.push(new TypeError("parameter '"+l+"' should be of type "+p.type+" and have a valid value"))}else p.required?s.push(new Error("parameter '"+l+"' of type "+p.type+" is required")):(0,f.log)("optional parameter '"+l+"' was not passed")}if(o)for(var _ in o){var O=o[_](a);O instanceof Error&&s.push(O)}if(u(s),v.hasValidCryptoOptions){for(var b in t.cryptoOptions)a[t.cryptoOptions[b].cardType.concat(y.default.CRYPTO_FORMAT)]=t.cryptoOptions[b].format;delete a.cryptoOptions}return a}function u(e){if(e&&e.length){if(e.length>1){for(var t in e)f.log.error(e[t].name,":",e[t].message);throw new Error("Multiple integration errors found, see logs for details.")}throw e[0]}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),i=n(a),s=r(9),c=n(s),l=r(19),d=n(l),f=r(4),p=r(0),y=n(p),v=r(1);t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,a.default)(f.default.CHECKOUT,e),r=(0,s.default)(t);(0,l.default)(r)}Object.defineProperty(t,"__esModule",{value:!0});var u=r(10),a=n(u),i=r(7),s=n(i),c=r(8),l=n(c),d=r(0),f=n(d);t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=void 0,r=void 0;t=(0,l.default)(f.default.PAIR,e),t.flow=f.default.CONNECT,r=(0,a.default)(t),(0,s.default)(r)}Object.defineProperty(t,"__esModule",{value:!0});var u=r(7),a=n(u),i=r(8),s=n(i),c=r(10),l=n(c),d=r(0),f=n(d);t.default=o},function(e,t,r){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r})},function(e,t,r){"use strict";function n(e){s?setTimeout(e,0):o.push(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=[],u=document,a=u.documentElement.doScroll,i="DOMContentLoaded",s=(a?/^loaded|^c/:/^loaded|^i|^c/).test(u.readyState),c=void 0;s||u.addEventListener(i,c=function(){for(u.removeEventListener(i,c),s=!0,c=o.shift();c;)c(),c=o.shift()}),t.default=n},function(e,t,r){"use strict";function n(){var e=document.createElement("iframe");e.src={switchUrl:"https://masterpass.com/switchui/index.html",switchWarmCacheUrl:"https://masterpass.com/switchui/warm-cache.html"}.switchWarmCacheUrl,e.style.display="none",e.style.height="1px",e.style.width="1px",e.setAttribute("aria-hidden",!0),document.body.appendChild(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&!a.default.TRUSTED_DOMAINS_REGEXP.test(e.src))throw new Error("Please source the MasterPass integration script from a mastercard domain.")}Object.defineProperty(t,"__esModule",{value:!0});var u=r(0),a=n(u);t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!e)throw new Error("flow is required for getting flow based settings");var t=r(21)("./"+e).default;return{types:Object.assign({},t.types,a.default.types),validators:Object.assign({},t.validators)}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),a=n(u);t.default=o},function(e,t,r){"use strict";function n(e,t){for(var r in t)if(!e.hasOwnProperty(t[r]))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof e&&null!==e&&("function"!=typeof e&&void 0!==e.length?e.length>0:""!==e.toString())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){function n(e){return r(o(e))}function o(e){var t=u[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var u={"./checkout":5,"./checkout.js":5,"./core":2,"./core.js":2,"./pair":6,"./pair.js":6,"./validators/dsrp-validator":1,"./validators/dsrp-validator.js":1,"./validators/pairing-validator":3,"./validators/pairing-validator.js":3};n.keys=function(){return Object.keys(u)},n.resolve=o,e.exports=n,n.id=21},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.enableLogging=t.pair=t.checkout=void 0;var o=r(16),u=n(o),a=r(4),i=r(14),s=n(i),c=r(15),l=n(c),d=r(11),f=n(d),p=r(12),y=n(p);r(13),(0,u.default)(document.currentScript),(0,s.default)(l.default),t.checkout=f.default,t.pair=y.default,t.enableLogging=a.enableLogging}])});
//# sourceMappingURL=merchant.js.map